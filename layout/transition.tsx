/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Imports */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
import { useRouter } from "next/router";
import { useEffect, useState } from "react";
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Styles */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
import TransitionStyles from "../public/stylesheets/layout/Transition.module.css";
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Transition */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
const Transition = ({ children }: any) => {
    const router = useRouter();
    const [ opacity, setOpacity ] = useState(1);
    const handleStartTransition = () => {
        const transitionContainer = document.querySelector("." + TransitionStyles.container) as HTMLElement;
        (transitionContainer) ? setOpacity(0) : null;
    };
    const handleCompleteTransition = () => {
        const transitionContainer = document.querySelector("." + TransitionStyles.container) as HTMLElement;
        (transitionContainer) ? setOpacity(1) : null;
    };
    useEffect(() => {
        router.events.on("routeChangeStart", handleStartTransition);
        router.events.on("routeChangeComplete", handleCompleteTransition);
        router.events.on("routeChangeError", handleCompleteTransition);
        return () => {
            router.events.off("routeChangeStart", handleStartTransition);
            router.events.off("routeChangeComplete", handleCompleteTransition);
            router.events.off("routeChangeError", handleCompleteTransition);
        };
    }, [ router ]);
    return <div className={ TransitionStyles.container } style={ { opacity: opacity } }>
        { children }
    </div>;
};
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Exports */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
export default Transition;