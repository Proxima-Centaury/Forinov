/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Imports */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
import { MouseEventHandler } from "react";
import { preciseTarget, scrollTo } from "../../scripts/utilities";
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Components */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
import Button from "../buttons/button";
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Styles */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
import PaginationStyles from "../../public/stylesheets/components/pagination/Pagination.module.css";
import ButtonStyles from "../../public/stylesheets/components/buttons/Button.module.css";
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Pagination */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
const Pagination = (pageProps: any) => {
	const { pages, search, action } = pageProps;
	const nextPage: MouseEventHandler = (event) => {
		const target = preciseTarget(event as any);
		const selectedPage = target.querySelector("span")?.innerText;
		action({ ...search, page: selectedPage });
		scrollTo(0, 0);
	};
	const showPagination = () => {
		const buttons = [];
		for(let page = 1; page <= pages; page++) {
			buttons.push(<Button key={ page } button={ ButtonStyles.callToActionRoundedIcon } action={ nextPage } text={ page.toString() }/>);
		};
		return buttons;
	};
	return <div className={ PaginationStyles.container }>
		{ showPagination() }
	</div>;
};
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Exports */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
export default Pagination;