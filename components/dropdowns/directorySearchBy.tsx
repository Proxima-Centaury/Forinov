/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Imports */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
import { Key, MouseEventHandler, useState } from "react";
import { ButtonInterface } from "../../typescript/interfaces";
import { buildProperties, checkMatch } from "../../scripts/utilities";
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Components */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
import Button from "../buttons/button";
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Styles */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
import DropdownStyles from "../../public/stylesheets/components/dropdowns/Dropdown.module.css";
import ButtonStyles from "../../public/stylesheets/components/buttons/Button.module.css";
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Directory Search By Dropdown */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
const DirectorySearchByDropdown = (pageProps: any) => {
    const { states, router }: any = pageProps;
    const { translations }: any = states;
    const { type }: any = router.query;
    const [ open, setOpen ] = useState(false);
    const dropdownButtonAction: MouseEventHandler = (event) => {
        event.preventDefault();
        setOpen(!open);
    };
    const filters = [
        // { ID: 0, NAME: translations["Toutes"], URL: "/all" },
        { ID: 0, NAME: translations["CatÃ©gories"], URL: "/directories/" + type + "/categories" },
        { ID: 0, NAME: translations["Pays"], URL: "/directories/" + type + "/countries" },
    ];
    const activeFilter = () => filters.map((link: any) => (checkMatch(router.asPath, link.URL)) ? link.NAME : null).filter((link: any) => link !== null)[0];
    return <div className={ DropdownStyles.container } data-open={ open }>
        <div className={ DropdownStyles.display }>
            <p>{ translations["Recherche par"] + " : " }<span>{ activeFilter() }</span></p>
            <Button button={ ButtonStyles.mask } action={ dropdownButtonAction } icon="fa-light fa-chevron-down"/>
        </div>
        { (filters.length > 0) ? <div className={ DropdownStyles.list + ((open) ? " " + DropdownStyles.open : "") }>
            { filters.map((link: any, key: Key) => <Button  key={ key } button={ ButtonStyles.dropdownLink } href={ link.URL } text={ link.NAME } active={ checkMatch(router.asPath, link.URL) }/>) }
        </div> : null }
    </div>;
};
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
/* Exports */
/* -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- */
export default DirectorySearchByDropdown;